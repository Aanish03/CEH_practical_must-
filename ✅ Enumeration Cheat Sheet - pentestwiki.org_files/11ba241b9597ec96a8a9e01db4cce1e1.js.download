(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var aa=this||self;function k(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var l={},m=null;
function n(a){var b;void 0===b&&(b=0);if(!m){m={};for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=["+/=","+/","-_=","-_.","-_"],e=0;5>e;e++){var f=c.concat(d[e].split(""));l[e]=f;for(var g=0;g<f.length;g++){var h=f[g];void 0===m[h]&&(m[h]=g)}}}b=l[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var y=a[f],z=a[f+1];h=a[f+2];g=b[y>>2];y=b[(y&3)<<4|z>>4];z=b[(z&15)<<2|h>>6];h=b[h&63];c[e++]=g+y+z+h}g=0;h=d;switch(a.length-f){case 2:g=
a[f+1],h=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=b[a>>2]+b[(a&3)<<4|g>>4]+h+d}return c.join("")};var p="undefined"!==typeof Uint8Array,q={};let r;var t=class{constructor(a){if(q!==q)throw Error("illegal external caller");this.A=a;if(null!=a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");}};const u=Symbol(void 0);function v(a,b){Object.isFrozen(a)||(u?a[u]|=b:void 0!==a.l?a.l|=b:Object.defineProperties(a,{l:{value:b,configurable:!0,writable:!0,enumerable:!1}}))}function w(a,b){Object.isExtensible(a)&&(u?a[u]&&(a[u]&=~b):void 0!==a.l&&(a.l&=~b))}function x(a){let b;u?b=a[u]:b=a.l;return null==b?0:b}function A(a){v(a,1);return a}function B(a){return a?!!(x(a)&2):!1}function C(a){if(!Array.isArray(a))throw Error("cannot mark non-array as shared mutably");w(a,16)};function D(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var E=Object.freeze(A([]));function F(a){if(B(a.i))throw Error("Cannot mutate an immutable Message");}function G(a){return{value:a,configurable:!1,writable:!1,enumerable:!1}};function ba(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(a&&!Array.isArray(a)){if(p&&null!=a&&a instanceof Uint8Array)return n(a);if(a instanceof t){var b=a.A;b=null==b||"string"===typeof b?b:p&&b instanceof Uint8Array?n(b):null;return null==b?"":a.A=b}}}return a};function H(a,b,c){if(null!=a){if(Array.isArray(a))a=I(a,b,c);else if(D(a)){const d={};for(let e in a)d[e]=H(a[e],b,c);a=d}else a=b(a);return a}}function I(a,b,c){const d=Array.prototype.slice.call(a);c(a,d);for(a=0;a<d.length;a++)d[a]=H(d[a],b,c);return d}function J(a){if(a&&"object"==typeof a&&a.toJSON)return a.toJSON();a=ba(a);return Array.isArray(a)?I(a,J,K):a}function K(){};function L(a){return a.h||(a.h=a.i[a.m+a.j]={})}function M(a,b,c=!1){return-1===b?null:b>=a.m?a.h?a.h[b]:void 0:c&&a.h&&(c=a.h[b],null!=c)?c:a.i[b+a.j]}function N(a,b,c,d=!1){F(a);a.s&&(a.s=void 0);if(b>=a.m||d)L(a)[b]=c;else{if(void 0!==a.h&&a.m>=a.i.length){d=a.i.length-1;const e=b+a.j;e>=d?(a.i[d]=void 0,a.i[e]=c,a.i.push(a.h)):a.i[e]=c}else a.i[b+a.j]=c;void 0!==a.h&&b in a.h&&delete a.h[b]}}function O(a,b){a=M(a,b);return null==a?a:!!a}function ca(a){a=M(a,3);return null==a?0:a}
function da(a){a=O(a,1);return null==a?!1:a}function P(a,b,c,d){F(a);c!==d?N(a,b,c):N(a,b,void 0,!1)}function Q(a,b,c){a.g||(a.g={});var d=a.g[c];d?b=d:(d=M(a,c,!1),b=Array.isArray(d)?new b(d):void 0,b&&(a.g[c]=b,v(b.i,x(a.i)&-33)));if(null==b)return b;B(b.i)&&!B(a.i)&&(b=b.v(),N(a,c,b.i,!1),a.g[c]=b);return b};function R(a,b){if(null==b||""==b)return new a;b=JSON.parse(b);if(!Array.isArray(b))throw a=typeof b,Error("Expected to deserialize an Array but got "+("object"!=a?a:b?Array.isArray(b)?"array":a:"null")+": "+b);S=b;v(b,16);a=new a(b);S=null;return a}
var T=class{constructor(a,b,c){a||(a=S);S=null;var d=this.constructor.g||0,e=0<d,f=this.constructor.h;a?x(a)&16&&v(a,32):(a=f?[f]:[],v(a,48));e&&0<a.length&&D(a[a.length-1])&&"g"in a[a.length-1]&&(d=0);this.j=(f?0:-1)-d;this.g=void 0;this.i=a;a:{f=this.i.length;d=f-1;if(f&&(f=this.i[d],D(f))){this.h=f;b=Object.keys(f);0<b.length&&Array.prototype.every.call(b,isNaN,void 0)?this.m=Number.MAX_VALUE:this.m=d-this.j;break a}void 0!==b&&-1<b?(this.m=Math.max(b,d+1-this.j),this.h=void 0):this.m=Number.MAX_VALUE}if(!e&&
this.h&&"g"in this.h)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(c)for(e=0;e<c.length;e++)b=c[e],b<this.m?(b+=this.j,(d=this.i[b])?Array.isArray(d)&&A(d):this.i[b]=E):(d=L(this),(f=d[b])?Array.isArray(f)&&A(f):d[b]=E)}toJSON(){return I(this.i,J,K)}};T.prototype.toString=function(){return this.i.toString()};let S;function U(a,b,c,d,e,f){if(a=a.g&&a.g[c])if(Array.isArray(a)){d=f.o?A(a.slice()):a;F(b);if(null!=d){e=A([]);f=!1;for(a=0;a<d.length;a++)e[a]=d[a].i,f=f||B(e[a]);b.g||(b.g={});b.g[c]=d;d=e;f?w(d,8):v(d,8)}else b.g&&(b.g[c]=void 0),e=E;N(b,c,e)}else e=a,F(b),b.g||(b.g={}),null==e?f=e=void 0:f=e.i,b.g[c]=e,N(b,c,f);else p&&d instanceof Uint8Array?e=d.length?new t(new Uint8Array(d)):r||(r=new t(null)):(Array.isArray(d)&&(e?v(d,2):d&&x(d)&1&&f.o?(e=f=Array.prototype.slice.call(d),d=(x(d)|0)&-51,u?e[u]=
d:void 0!==e.l?e.l=d:Object.defineProperties(e,{l:{value:d,configurable:!0,writable:!0,enumerable:!1}}),d=f):C(d)),e=d),N(b,c,e)};var V=class extends T{v(){return this}};Object.defineProperties(V,{[Symbol.hasInstance]:G(()=>{throw Error(void 0);})});class W extends V{v(){if(B(this.i)){var {o:a}={o:!0};a={o:a};const c=B(this.i);if(c&&!a.o)throw Error("copyRepeatedFields must be true for frozen messages");c||C(this.i);const d=new this.constructor;this.u&&(d.u=this.u.slice());const e=this.i;for(let f=0;f<e.length;f++){const g=e[f];if(f===e.length-1&&D(g))for(b in g){const h=+b;Number.isNaN(h)?L(d)[b]=g[b]:U(this,d,h,g[b],c,a)}else U(this,d,f-this.j,g,c,a)}var b=d;b.s=this}else b=this;return b}}Object.defineProperties(W,{[Symbol.hasInstance]:G(Object[Symbol.hasInstance])});var fa=class extends W{constructor(a){super(a,-1,ea)}},ea=[8];var ia=class extends W{constructor(a){super(a,-1,ha)}},ha=[17];var ka=class extends W{constructor(a){super(a,-1,ja)}},ja=[27];var la=class extends W{constructor(a){super(a)}};var na=class extends W{constructor(a){super(a,-1,ma)}},ma=[1,2,3,6];var pa=class extends W{constructor(){super(void 0,-1,oa)}},oa=[12];/*

 SPDX-License-Identifier: Apache-2.0
*/
function X(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function qa(a){if(!(0<a.g.length)){var b=X(a.body,"environment");for(const c of b.split("|"))c&&a.g.push(c)}}function Y(a,b){a=a.body;var c={detail:void 0};let d;"function"===typeof window.CustomEvent?d=new CustomEvent(b,c):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!!c.bubbles,!!c.cancelable,c.detail));a.dispatchEvent(d)}
var ra=class{constructor(a){this.body=a;this.g=[];this.h={};X(a,"sampling_mod");var b=X(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if("namespace"===c[d].getAttribute("name")&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));
a=document.createElement("META");a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}qa(this);!this.h.hasOwnProperty("META_LOCKED")&&(a=X(this.body,"custom_flags"))&&(this.h=JSON.parse(a))}addEventListener(a,b){this.body.addEventListener(a,b)}};var sa=class extends W{constructor(){super(void 0)}};function ta(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function ua(a){if(1>=a.h.offsetWidth||1>=a.h.offsetHeight)return!1;a.g.remove();Y(a.context,"spanReady");return!0}
var va=class{constructor(a,b){this.context=a;this.j=b;this.h=ta("SPAN");this.g=ta("DIV");this.h.style.fontSize="6px";this.h.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.h)}wait(){if(!da(this.j)&&(Y(this.context,"spanStart"),this.context.body.appendChild(this.g),!ua(this)))return new Promise(a=>{const b=setInterval(()=>
{ua(this)&&(clearInterval(b),a())},ca(this.j))})}};var wa=class{constructor(a,b){this.context=a;this.h=Q(b,ka,1);this.g=Q(b,fa,12)||new fa;Q(this.h,ia,10)||new ia}};var xa=class{constructor(){this.channel=3;(this.g=!(!window.mys||!window.mys.pingback))&&this.setData(43,Date.now()-window.mys.pingback.getBaseTime())}setAttribute(a,b){this.g&&window.mys.pingback.setAttribute(a,b)}setData(a,b){this.g&&window.mys.pingback.setData(a,b,this.channel)}send(a){this.g&&window.mys.pingback.send(a)}};function ya(a){a.g&=-31}function Z(a,b){a.g|=b}var za=class{constructor(a,b){this.context=a;this.m=b;new pa;this.g=0;this.pingback=new xa}h(){}};function Aa(a){R(na,X(a.context.body,"engine_msg")||"[]");return a.g.h()||Promise.resolve()}
var Ba=class{constructor(a,b,c,d){this.g=d(a,b,c);this.context=this.g.context}init(){ya(this.g);Z(this.g,1);let a;null==(a=window.AFMA_Communicator)||a.addEventListener("onshow",()=>{Z(this.g,32)});let b=0;const c=this.context.body;c.addEventListener("browserRender",()=>{++b;if(1===b)Y(this.context,"overallStart"),Aa(this).then(()=>{Y(this.context,"overallQuiet")});else{var d=c.clientHeight;c.clientWidth&&d&&Aa(this)}})}};function Ca(a){a.j.length=0;a.h=!0}function Da(a,b){a.g=!0;const c=()=>{a.h=!1;const d=a.j.shift();return void 0===d?(a.g=!1,Promise.resolve()):Da(a,d())};return b?b.then(c,()=>{if(a.h)return c();a.g=!1;return Promise.reject()}):c()}function Ea(a,b){for(const c of b)a.j.push(c);if(!a.g)return Da(a)}var Fa=class{constructor(){this.h=this.g=!1;this.j=[]}};var Ga=class extends za{constructor(){super(...arguments);this.j=new Fa}h(){Ca(this.j);return Ea(this.j,[()=>{},()=>{let a;var b=this.m;const c=new sa;P(c,3,100,0);P(c,4,1E4,0);P(c,5,!0,!1);O(b.g,3)&&P(c,2,!0,!1);b=b.context;qa(b);0<=b.g.indexOf("amp")&&P(c,2,!0,!1);c&&(a=(new va(this.context,c)).wait());Y(this.context,"browserStart");Y(this.context,"browserStartEnd");ya(this);Z(this,2);return a},()=>{Y(this.context,"browserReady");Y(this.context,"browserReadyEnd");Z(this,4);Y(this.context,"overallReady")},
()=>{Y(this.context,"browserQuiet");Y(this.context,"browserQuietEnd");Z(this,8)}])}};(function(a){let b=null;k("mys.engine.init",(c,d)=>{const e=R(la,X(d,"render_config")||"[]");b=new Ba(c,d,e,a);b.init()});k("mys.engine.stage",()=>b?b.g.g:0)})(function(a,b,c){a=new ra(b);c=new wa(a,c);return new Ga(a,c)});}).call(this);
